<!DOCTYPE html>
<html lang= "en">

<head>
    <meta charset="utf-8">
    <title>Connor Owen Lab 4</title>
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,900&display=swap" rel="stylesheet">
    <link href = "styles.css" rel = "stylesheet">
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
<div class = "container">
    <div class = header>
    <h1>Connor Owen's Lab 4</h1>
    </div>
    <div class = "wrapper">
        <form action = "/api" method = "post" name = form>
            <ul class = flex-outer>
            <li> 
                <label for="fname">First Name</label>
                <input type = "text" name = "fname" id = "fname" maxlength="140" placeholder="Enter your first name here">
            </li>
            <li> 
                <label for="lname">Last Name</label>
                <input type = "text" name= "lname" id = "lname" maxlength="140" placeholder="Enter you last name here">
            </li>
            <li> 
                <label for="email">Email</label>
                <input type = "email" name = "email" id = "email" maxlength = "140" placeholder= "Enter your last name here">
            </li>
            <li> 
                <label for="phone">Phone</label>
                <input type = "tel" name = "phone" id = "phone" placeholder= "Enter your phone here">
            </li>
            <li> 
                <label for="TextField">Text Field</label>
                <textarea rows = "5" cols = "33" name = "message" placeholder="Type your Message here"></textarea>
            </li>
            <li>
            <p class = fruitCheckBox>Age</p>
            <ul class = flex-inner>
                <li>
                    <input type="checkbox" name="eighteen-to-thirtyfive" id="eighteen-to-thirtyfive">
                    <label for="eighteen-to-thirtyfive">18-35</label>
                </li>
                <li>
                    <input type="checkbox" name="thirtyfive-to-fifty" id="thirtyfive-to-fifty">
                    <label for="thirtyfive-to-fifty">35-50</label>
                </li>
                <li>
                    <input type="checkbox" name="fifty-to-sixtyfive" id="fifty-to-sixtyfive">
                    <label for="fifty-to-sixtyfive">50-65</label>
                </li>
            </ul>
            </li>
            <li>
                <button type = "submit" name = submit id = submit>Submit</button>
            </li>
            <li>
                <button onclick="testFunction()" type = "submit" name ="activate" id = "activate">Activate</button>
            </li>
            </ul>
        </form>
    </div>
</div>
    <script>
        function testFunction(){
            fetch('/api')
            .then((response) => response.text())
            .then((response) => {
                console.log(response);

                const head = document.querySelector('h1')
                head.innerHTML = response;
                const lbl = document.querySelector('.fruitCheckBox')
                lbl.innerHTML = 'Fruits';
                const title = document.querySelector('title')
                title.innerHTML = response;
                const center = document.querySelector('.flex-outer')
                center.style = 'margin: 0 auto;';
                const newColor = 'rgb(' + (255) + ',' + (69) + ',' + (0) + ')';
                document.body.style.backgroundColor = newColor;
                const fruits = document.querySelectorAll('.flex-inner > li > label')
                    const fruitList = ['Apple', 'Pineapple', 'Orange']
                        fruits.forEach((el,i) => {
                        const text = el.innerText;
                        el.innerText = fruitList[i];
                    })
            })
        }
    </script>
</body>
</html>